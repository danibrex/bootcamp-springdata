<!DOCTYPE html>
<html>
<body>

<h2>Respuesta del servidor</h2>
<p>Este es el Json recibido. Enlace: <span><a href="http://localhost:8091/personas">URL/personas en el puerto 8091</a></span></p>

<p id="para1"></p>
<p id="para2"></p>

<script>
	let txt = "";
	const arrPersonasTxt = [];

	const xmlhttp = new XMLHttpRequest();
	xmlhttp.onload = function() {
	  const myArr = JSON.parse(this.responseText);
	  myArr.forEach(bucle1);	  
	  document.getElementById("para1").innerHTML = txt;
	  document.getElementById("para2").innerHTML = "Encontrados: " + arrPersonasTxt.length + " registros.";
 
	}
	xmlhttp.open("GET", "http://localhost:8091/personas", true);
	xmlhttp.send();

	function bucle1(value, index, array) {
	  txt += value.id + " " + value.nombre + " " + value.apellidos + " <br>";
	  arrPersonasTxt[index] = value.id + " " + value.nombre + " " + value.apellidos;	    
	}
	
	
</script>

</body>
</html>
